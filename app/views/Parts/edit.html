#{set title:(object? object['displayName'] : null)/}
#{extends 'core/layout.html' /}
<link rel="stylesheet" type="text/css" media="screen" href="@{'/public/css/token-input.css'}" />
<link rel="stylesheet" type="text/css" media="screen" href="@{'/public/css/token-input-sparta.css'}" />
<script src="@{'/public/javascripts/jquery.tokeninput.js'}"></script>
<script src="@{'/public/javascripts/ejohn-templating.js'}"></script>

<div id="coreShow" class="${type.name}">
	<div class="listSort span-18">
	&{'sparta.part.edit.title', object.displayName}
	</div>
    <div class="ui-corner-all">
    <div class="listButtons">
    #{sparta.toolbar}
	#{sparta.show id:object._key(), name:type.modelName /}
	#{sparta.add name:type.modelName /}	
	#{sparta.delete id:object._key(), name:type.modelName /}
    #{/sparta.toolbar}
    </div>    
    <div id="edit-tabs">
	<ul>
		<li><a href="#basic-info">&{'sparta.show.basicinfo'}</a></li>
		<!-- <li><a href="#edit-relations">Relations</a></li>-->		
	</ul>
	<!-- <div id="edit-relations">
	    #{sparta.editrelation object:object, label:"Parts", name:"used", geturl:"/users/parts/listparts"}
		'@{addparts(object._key())}'
		#{/sparta.editrelation}
         
		#{sparta.editrelation object:object, label:"ECOs", name:"partecos", geturl:"/users/parts/listparts"}
		'@{addparts(object._key())}'
		#{/sparta.editrelation}
		
		#{sparta.editrelation object:object, label:"ECNs", name:"partecns", geturl:"/users/parts/listparts"}
		'@{addparts(object._key())}'
		#{/sparta.editrelation}
		
		#{sparta.editrelation object:object, label:"Documents", name:"partdocs", geturl:"/users/documents/listdocs"}
		'@{adddocuments(object._key())}'
		#{/sparta.editrelation}
		 
		#{sparta.editrelation object:object, label:"Customer", name:"partcustomers", geturl:"/users/customers/listcustomers"}
		'@{addcustomers(object._key())}'
		#{/sparta.editrelation}   
        
        #{sparta.editrelation object:object, label:"Plants", name:"partplants", geturl:"/users/plants/listplants" }
		'@{addplants(object._key())}'
		#{/sparta.editrelation}
		
        #{sparta.editrelation object:object, label:"Suppliers", name:"partsuppliers", geturl:"/users/suppliers/listsuppliers" }
		'@{addsuppliers(object._key())}'
		#{/sparta.editrelation}
		
		#{sparta.fileupload posturl:'/dashboard/dump', uploadurl:'/dashboard/upload'/}
			
	</div>-->
	<div id="basic-info"class="objectForm">
	
	#{form action:@save(object._key()), enctype:'multipart/form-data'}
	    <div >
		#{sparta.form }
		#{core.element name:"number", value:(object.identifier? object.identifier['number'] : null) /}
	    #{core.element name:"tab", value:(object.identifier? object.identifier['tab'] : null) /}
	    #{core.element name:"servicePart", value:(object.identifier? object.identifier['servicePart'] : null) /}
		#{sparta.field name:'name'/}
		#{sparta.lookupField name:'material', realm:'sparta.product.material'/}
		#{sparta.lookupField name:'releaseState', realm:'sparta.product.releasestate'/}
		#{sparta.lookupField name:'finish', realm:'sparta.product.finish'/}				
		#{sparta.field name:'description'/}
		#{sparta.field name:'project'/}		
		#{/sparta.form}
		</div>
		<p class="coreButtons button">
			<input type="submit" name="_save" value="&{'core.save', type.modelName}" />
			<input type="submit" name="_saveAndContinue" value="&{'core.saveAndContinue', type.modelName}" />
		</p>
	#{/form}
	</div>
   </div>
   </div>
</div>
<!--  change the buttons to a class -->
<script>
$(function() {
	$( "#edit-tabs" ).tabs();
});
</script>

		
